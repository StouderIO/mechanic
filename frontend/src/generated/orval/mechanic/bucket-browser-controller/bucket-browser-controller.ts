/**
 * Generated by orval v7.10.0 🍺
 * Do not edit manually.
 * OpenAPI definition
 * OpenAPI spec version: v0
 */

import type {
  DataTag,
  DefinedInitialDataOptions,
  DefinedUseQueryResult,
  MutationFunction,
  QueryClient,
  QueryFunction,
  QueryKey,
  UndefinedInitialDataOptions,
  UseMutationOptions,
  UseMutationResult,
  UseQueryOptions,
  UseQueryResult,
} from '@tanstack/react-query'
import { useMutation, useQuery } from '@tanstack/react-query'
import type { ErrorType } from '../../../../axios-instance'

import { customInstance } from '../../../../axios-instance'
import type {
  DeleteBucketFileParams,
  GetBucketFileParams,
  ListBucketFilesParams,
  ListBucketFilesResponse,
} from '../endpoints.schemas'

export const listBucketFiles = (
  bucketId: string,
  params: ListBucketFilesParams,
  signal?: AbortSignal,
) => {
  return customInstance<ListBucketFilesResponse>({
    url: `/api/buckets/${bucketId}`,
    method: 'GET',
    params,
    signal,
  })
}

export const getListBucketFilesQueryKey = (
  bucketId: string,
  params: ListBucketFilesParams,
) => {
  return [`/api/buckets/${bucketId}`, ...(params ? [params] : [])] as const
}

export const getListBucketFilesQueryOptions = <
  TData = Awaited<ReturnType<typeof listBucketFiles>>,
  TError = ErrorType<unknown>,
>(
  bucketId: string,
  params: ListBucketFilesParams,
  options?: {
    query?: Partial<
      UseQueryOptions<
        Awaited<ReturnType<typeof listBucketFiles>>,
        TError,
        TData
      >
    >
  },
) => {
  const { query: queryOptions } = options ?? {}

  const queryKey =
    queryOptions?.queryKey ?? getListBucketFilesQueryKey(bucketId, params)

  const queryFn: QueryFunction<Awaited<ReturnType<typeof listBucketFiles>>> = ({
    signal,
  }) => listBucketFiles(bucketId, params, signal)

  return {
    queryKey,
    queryFn,
    enabled: !!bucketId,
    ...queryOptions,
  } as UseQueryOptions<
    Awaited<ReturnType<typeof listBucketFiles>>,
    TError,
    TData
  > & { queryKey: DataTag<QueryKey, TData, TError> }
}

export type ListBucketFilesQueryResult = NonNullable<
  Awaited<ReturnType<typeof listBucketFiles>>
>
export type ListBucketFilesQueryError = ErrorType<unknown>

export function useListBucketFiles<
  TData = Awaited<ReturnType<typeof listBucketFiles>>,
  TError = ErrorType<unknown>,
>(
  bucketId: string,
  params: ListBucketFilesParams,
  options: {
    query: Partial<
      UseQueryOptions<
        Awaited<ReturnType<typeof listBucketFiles>>,
        TError,
        TData
      >
    > &
      Pick<
        DefinedInitialDataOptions<
          Awaited<ReturnType<typeof listBucketFiles>>,
          TError,
          Awaited<ReturnType<typeof listBucketFiles>>
        >,
        'initialData'
      >
  },
  queryClient?: QueryClient,
): DefinedUseQueryResult<TData, TError> & {
  queryKey: DataTag<QueryKey, TData, TError>
}
export function useListBucketFiles<
  TData = Awaited<ReturnType<typeof listBucketFiles>>,
  TError = ErrorType<unknown>,
>(
  bucketId: string,
  params: ListBucketFilesParams,
  options?: {
    query?: Partial<
      UseQueryOptions<
        Awaited<ReturnType<typeof listBucketFiles>>,
        TError,
        TData
      >
    > &
      Pick<
        UndefinedInitialDataOptions<
          Awaited<ReturnType<typeof listBucketFiles>>,
          TError,
          Awaited<ReturnType<typeof listBucketFiles>>
        >,
        'initialData'
      >
  },
  queryClient?: QueryClient,
): UseQueryResult<TData, TError> & {
  queryKey: DataTag<QueryKey, TData, TError>
}
export function useListBucketFiles<
  TData = Awaited<ReturnType<typeof listBucketFiles>>,
  TError = ErrorType<unknown>,
>(
  bucketId: string,
  params: ListBucketFilesParams,
  options?: {
    query?: Partial<
      UseQueryOptions<
        Awaited<ReturnType<typeof listBucketFiles>>,
        TError,
        TData
      >
    >
  },
  queryClient?: QueryClient,
): UseQueryResult<TData, TError> & {
  queryKey: DataTag<QueryKey, TData, TError>
}

export function useListBucketFiles<
  TData = Awaited<ReturnType<typeof listBucketFiles>>,
  TError = ErrorType<unknown>,
>(
  bucketId: string,
  params: ListBucketFilesParams,
  options?: {
    query?: Partial<
      UseQueryOptions<
        Awaited<ReturnType<typeof listBucketFiles>>,
        TError,
        TData
      >
    >
  },
  queryClient?: QueryClient,
): UseQueryResult<TData, TError> & {
  queryKey: DataTag<QueryKey, TData, TError>
} {
  const queryOptions = getListBucketFilesQueryOptions(bucketId, params, options)

  const query = useQuery(queryOptions, queryClient) as UseQueryResult<
    TData,
    TError
  > & { queryKey: DataTag<QueryKey, TData, TError> }

  query.queryKey = queryOptions.queryKey

  return query
}

export const getBucketFile = (
  bucketId: string,
  params: GetBucketFileParams,
  signal?: AbortSignal,
) => {
  return customInstance<Blob>({
    url: `/api/buckets/${bucketId}/file`,
    method: 'GET',
    params,
    responseType: 'blob',
    signal,
  })
}

export const getGetBucketFileQueryKey = (
  bucketId: string,
  params: GetBucketFileParams,
) => {
  return [`/api/buckets/${bucketId}/file`, ...(params ? [params] : [])] as const
}

export const getGetBucketFileQueryOptions = <
  TData = Awaited<ReturnType<typeof getBucketFile>>,
  TError = ErrorType<unknown>,
>(
  bucketId: string,
  params: GetBucketFileParams,
  options?: {
    query?: Partial<
      UseQueryOptions<Awaited<ReturnType<typeof getBucketFile>>, TError, TData>
    >
  },
) => {
  const { query: queryOptions } = options ?? {}

  const queryKey =
    queryOptions?.queryKey ?? getGetBucketFileQueryKey(bucketId, params)

  const queryFn: QueryFunction<Awaited<ReturnType<typeof getBucketFile>>> = ({
    signal,
  }) => getBucketFile(bucketId, params, signal)

  return {
    queryKey,
    queryFn,
    enabled: !!bucketId,
    ...queryOptions,
  } as UseQueryOptions<
    Awaited<ReturnType<typeof getBucketFile>>,
    TError,
    TData
  > & { queryKey: DataTag<QueryKey, TData, TError> }
}

export type GetBucketFileQueryResult = NonNullable<
  Awaited<ReturnType<typeof getBucketFile>>
>
export type GetBucketFileQueryError = ErrorType<unknown>

export function useGetBucketFile<
  TData = Awaited<ReturnType<typeof getBucketFile>>,
  TError = ErrorType<unknown>,
>(
  bucketId: string,
  params: GetBucketFileParams,
  options: {
    query: Partial<
      UseQueryOptions<Awaited<ReturnType<typeof getBucketFile>>, TError, TData>
    > &
      Pick<
        DefinedInitialDataOptions<
          Awaited<ReturnType<typeof getBucketFile>>,
          TError,
          Awaited<ReturnType<typeof getBucketFile>>
        >,
        'initialData'
      >
  },
  queryClient?: QueryClient,
): DefinedUseQueryResult<TData, TError> & {
  queryKey: DataTag<QueryKey, TData, TError>
}
export function useGetBucketFile<
  TData = Awaited<ReturnType<typeof getBucketFile>>,
  TError = ErrorType<unknown>,
>(
  bucketId: string,
  params: GetBucketFileParams,
  options?: {
    query?: Partial<
      UseQueryOptions<Awaited<ReturnType<typeof getBucketFile>>, TError, TData>
    > &
      Pick<
        UndefinedInitialDataOptions<
          Awaited<ReturnType<typeof getBucketFile>>,
          TError,
          Awaited<ReturnType<typeof getBucketFile>>
        >,
        'initialData'
      >
  },
  queryClient?: QueryClient,
): UseQueryResult<TData, TError> & {
  queryKey: DataTag<QueryKey, TData, TError>
}
export function useGetBucketFile<
  TData = Awaited<ReturnType<typeof getBucketFile>>,
  TError = ErrorType<unknown>,
>(
  bucketId: string,
  params: GetBucketFileParams,
  options?: {
    query?: Partial<
      UseQueryOptions<Awaited<ReturnType<typeof getBucketFile>>, TError, TData>
    >
  },
  queryClient?: QueryClient,
): UseQueryResult<TData, TError> & {
  queryKey: DataTag<QueryKey, TData, TError>
}

export function useGetBucketFile<
  TData = Awaited<ReturnType<typeof getBucketFile>>,
  TError = ErrorType<unknown>,
>(
  bucketId: string,
  params: GetBucketFileParams,
  options?: {
    query?: Partial<
      UseQueryOptions<Awaited<ReturnType<typeof getBucketFile>>, TError, TData>
    >
  },
  queryClient?: QueryClient,
): UseQueryResult<TData, TError> & {
  queryKey: DataTag<QueryKey, TData, TError>
} {
  const queryOptions = getGetBucketFileQueryOptions(bucketId, params, options)

  const query = useQuery(queryOptions, queryClient) as UseQueryResult<
    TData,
    TError
  > & { queryKey: DataTag<QueryKey, TData, TError> }

  query.queryKey = queryOptions.queryKey

  return query
}

export const deleteBucketFile = (
  bucketId: string,
  params: DeleteBucketFileParams,
) => {
  return customInstance<void>({
    url: `/api/buckets/${bucketId}/file`,
    method: 'DELETE',
    params,
  })
}

export const getDeleteBucketFileMutationOptions = <
  TError = ErrorType<unknown>,
  TContext = unknown,
>(options?: {
  mutation?: UseMutationOptions<
    Awaited<ReturnType<typeof deleteBucketFile>>,
    TError,
    { bucketId: string; params: DeleteBucketFileParams },
    TContext
  >
}): UseMutationOptions<
  Awaited<ReturnType<typeof deleteBucketFile>>,
  TError,
  { bucketId: string; params: DeleteBucketFileParams },
  TContext
> => {
  const mutationKey = ['deleteBucketFile']
  const { mutation: mutationOptions } = options
    ? options.mutation &&
      'mutationKey' in options.mutation &&
      options.mutation.mutationKey
      ? options
      : { ...options, mutation: { ...options.mutation, mutationKey } }
    : { mutation: { mutationKey } }

  const mutationFn: MutationFunction<
    Awaited<ReturnType<typeof deleteBucketFile>>,
    { bucketId: string; params: DeleteBucketFileParams }
  > = (props) => {
    const { bucketId, params } = props ?? {}

    return deleteBucketFile(bucketId, params)
  }

  return { mutationFn, ...mutationOptions }
}

export type DeleteBucketFileMutationResult = NonNullable<
  Awaited<ReturnType<typeof deleteBucketFile>>
>

export type DeleteBucketFileMutationError = ErrorType<unknown>

export const useDeleteBucketFile = <
  TError = ErrorType<unknown>,
  TContext = unknown,
>(
  options?: {
    mutation?: UseMutationOptions<
      Awaited<ReturnType<typeof deleteBucketFile>>,
      TError,
      { bucketId: string; params: DeleteBucketFileParams },
      TContext
    >
  },
  queryClient?: QueryClient,
): UseMutationResult<
  Awaited<ReturnType<typeof deleteBucketFile>>,
  TError,
  { bucketId: string; params: DeleteBucketFileParams },
  TContext
> => {
  const mutationOptions = getDeleteBucketFileMutationOptions(options)

  return useMutation(mutationOptions, queryClient)
}
